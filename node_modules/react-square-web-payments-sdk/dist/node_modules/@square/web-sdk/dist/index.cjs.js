"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var w=(r,e,t)=>new Promise((n,i)=>{var c=o=>{try{u(t.next(o))}catch(a){i(a)}},p=o=>{try{u(t.throw(o))}catch(a){i(a)}},u=o=>o.done?n(o.value):Promise.resolve(o.value).then(c,p);u((t=t.apply(r,e)).next())});function h(r){return document.querySelector(`script[src="${r}"]`)}function f(r){let e=document.head||document.body;if(!e)throw new Error("Square.js requires a <body> or <head> element.");let t=document.createElement("script");return t.src=r,e.appendChild(t),t}var s=null;function m(r){return s!==null||(s=new Promise((e,t)=>{if(typeof window>"u"){e(null);return}if(window.Square){e(window.Square);return}try{let n=h(r);n||(n=f(r)),n.addEventListener("load",()=>{window.Square?e(window.Square):t(new Error("Square.js failed to load properly."))}),n.addEventListener("error",()=>{t(new Error("Error occurred while loading Square.js"))})}catch(n){t(n)}})),s}var y="v1",l=class d extends Error{constructor(e="The Payment 'applicationId' option is not in the correct format."){super(e),this.name="InvalidApplicationIdError",Object.setPrototypeOf(this,d.prototype)}};function v(r){let e="";if(typeof r!="string"||r===null)throw new l;if(r.startsWith("sq0idp-")&&(e="https://web.squarecdn.com/"),r.startsWith("sandbox-sq0idb-")&&(e="https://sandbox.web.squarecdn.com/"),e.length===0)throw new l;return e+=`${y}/square.js`,e}function q(r,e,t){return w(this,null,function*(){let n=t?.scriptSrc===void 0?v(r):t.scriptSrc,i=yield m(n);return i===null?null:i.payments(r,e)})}exports.payments=q;
//# sourceMappingURL=index.cjs.js.map
