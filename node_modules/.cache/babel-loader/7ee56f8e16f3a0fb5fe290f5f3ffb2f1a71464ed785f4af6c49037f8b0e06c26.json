{"ast":null,"code":"var _jsxFileName = \"/Users/davorins/Desktop/bs/src/feature-module/peoples/players/add-player/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { all_routes } from '../../../router/all_routes';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { validateRequired, validateName, validateDateOfBirth, validateGrade } from '../../../../utils/validation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPlayer = ({\n  isEdit\n}) => {\n  _s();\n  var _playerState$player, _playerState$player2;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const playerState = location.state;\n  const [parents, setParents] = useState([]);\n  const [loadingParents, setLoadingParents] = useState(false);\n  const [errors, setErrors] = useState({});\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\n  const playerId = (playerState === null || playerState === void 0 ? void 0 : playerState.playerId) || (playerState === null || playerState === void 0 ? void 0 : (_playerState$player = playerState.player) === null || _playerState$player === void 0 ? void 0 : _playerState$player.playerId) || (playerState === null || playerState === void 0 ? void 0 : (_playerState$player2 = playerState.player) === null || _playerState$player2 === void 0 ? void 0 : _playerState$player2._id) || '';\n  const fetchParents = async () => {\n    try {\n      setLoadingParents(true);\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_BASE_URL}/parents`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setParents(response.data);\n    } catch (error) {\n      console.error('Error fetching parents:', error);\n    } finally {\n      setLoadingParents(false);\n    }\n  };\n  const fetchPlayerData = async playerId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API_BASE_URL}/player/${playerId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching player data:', error);\n      return null;\n    }\n  };\n  const getCurrentSeason = () => {\n    const currentDate = new Date();\n    const month = currentDate.getMonth() + 1;\n    const day = currentDate.getDate();\n    if (month === 12 && day >= 21 || month === 1 || month === 2 || month === 3 && day <= 20) {\n      return 'Winter';\n    } else if (month === 3 && day >= 21 || month === 4 || month === 5 || month === 6 && day <= 20) {\n      return 'Spring';\n    } else if (month === 6 && day >= 21 || month === 7 || month === 8 || month === 9 && day <= 22) {\n      return 'Summer';\n    } else {\n      return 'Fall';\n    }\n  };\n  const [formData, setFormData] = useState({\n    playerId: playerId || '',\n    fullName: '',\n    gender: '',\n    dob: '',\n    schoolName: '',\n    grade: '',\n    healthConcerns: '',\n    aauNumber: '',\n    registrationYear: new Date().getFullYear().toString(),\n    season: getCurrentSeason(),\n    parentId: ''\n  });\n  useEffect(() => {\n    if (!isEdit) {\n      fetchParents();\n    }\n  }, [isEdit]);\n  useEffect(() => {\n    const fetchData = async () => {\n      if (isEdit) {\n        if (playerState !== null && playerState !== void 0 && playerState.player) {\n          const player = playerState.player;\n          setFormData(prev => ({\n            ...prev,\n            playerId: player.playerId || player._id || '',\n            fullName: player.name || player.fullName || '',\n            gender: player.gender || '',\n            dob: player.dob || '',\n            schoolName: player.section || player.schoolName || '',\n            grade: player.class || player.grade || '',\n            healthConcerns: player.healthConcerns || '',\n            aauNumber: player.aauNumber || '',\n            parentId: player.parentId || ''\n          }));\n        } else if (playerId) {\n          const player = await fetchPlayerData(playerId);\n          if (player) {\n            setFormData(prev => ({\n              ...prev,\n              playerId: player._id || player.playerId || '',\n              fullName: player.fullName || player.name || '',\n              gender: player.gender || '',\n              dob: player.dob || '',\n              schoolName: player.schoolName || player.section || '',\n              grade: player.grade || player.class || '',\n              healthConcerns: player.healthConcerns || '',\n              aauNumber: player.aauNumber || '',\n              parentId: player.parentId || ''\n            }));\n          }\n        }\n      }\n    };\n    fetchData();\n  }, [isEdit, playerId, playerState]);\n  const validateForm = () => {\n    const newErrors = {};\n    if (!validateName(formData.fullName)) {\n      newErrors.fullName = 'Please enter a valid name (min 2 characters)';\n    }\n    if (!validateDateOfBirth(formData.dob)) {\n      newErrors.dob = 'Please enter a valid date of birth';\n    }\n    if (!validateRequired(formData.gender)) {\n      newErrors.gender = 'Gender is required';\n    }\n    if (!isEdit && !formData.parentId) {\n      newErrors.parentId = 'Parent is required';\n    }\n    if (!validateGrade(formData.grade)) {\n      newErrors.grade = 'Please select a valid grade (1-12)';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      // Scroll to the first error\n      const firstErrorKey = Object.keys(errors)[0];\n      if (firstErrorKey) {\n        const element = document.querySelector(`[name=\"${firstErrorKey}\"]`);\n        element === null || element === void 0 ? void 0 : element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'center'\n        });\n      }\n      return;\n    }\n    if (isEdit && !formData.playerId) {\n      alert('Player ID is missing. Cannot update player.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('Authentication token missing. Please login again.');\n        return;\n      }\n      const baseUrl = `${API_BASE_URL}/players`;\n      const url = isEdit ? `${baseUrl}/${formData.playerId}` : baseUrl;\n      const payload = {\n        fullName: formData.fullName,\n        gender: formData.gender,\n        dob: formData.dob,\n        schoolName: formData.schoolName,\n        grade: formData.grade.replace(/\\D/g, ''),\n        healthConcerns: formData.healthConcerns,\n        aauNumber: formData.aauNumber,\n        registrationYear: formData.registrationYear,\n        season: formData.season,\n        ...(!isEdit && {\n          parentId: formData.parentId\n        })\n      };\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      };\n      const response = await (isEdit ? axios.put(url, payload, config) : axios.post(url, payload, config));\n\n      // For edits, navigate back to player details\n      if (isEdit && playerState !== null && playerState !== void 0 && playerState.from) {\n        navigate(playerState.from, {\n          state: {\n            player: response.data,\n            guardians: playerState.guardians,\n            siblings: playerState.siblings || [],\n            from: 'edit'\n          },\n          replace: true\n        });\n      } else {\n        navigate(all_routes.playerList);\n      }\n    } catch (error) {\n      console.error(`Error ${isEdit ? 'updating' : 'adding'} player:`, error);\n      let errorMessage = `Failed to ${isEdit ? 'update' : 'add'} player.`;\n      if (axios.isAxiosError(error)) {\n        var _error$response, _error$response2, _error$response2$data;\n        errorMessage += ` Server responded with: ${(_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status}`;\n        if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.error) {\n          errorMessage += ` - ${error.response.data.error}`;\n        }\n      }\n      alert(errorMessage);\n    }\n  };\n  const renderGradeSelect = () => /*#__PURE__*/_jsxDEV(\"select\", {\n    className: `form-control ${errors.grade ? 'is-invalid' : ''}`,\n    name: \"grade\",\n    value: formData.grade.replace(/\\D/g, ''),\n    onChange: handleInputChange,\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: \"Select Grade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), [...Array(12)].map((_, i) => {\n      const gradeNum = String(i + 1);\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: gradeNum,\n        children: [gradeNum, i === 0 ? 'st' : i === 1 ? 'nd' : i === 2 ? 'rd' : 'th', \" Grade\"]\n      }, gradeNum, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n  const formatForDateInput = dateString => {\n    if (!dateString) return '';\n    try {\n      const date = new Date(dateString);\n      if (isNaN(date.getTime())) return '';\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content content-two\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-md-flex d-block align-items-center justify-content-between mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-auto mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-1\",\n            children: [isEdit ? 'Edit' : 'Add', \" Player\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"breadcrumb mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: all_routes.adminDashboard,\n                  children: \"Dashboard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: all_routes.playerList,\n                  children: \"Players\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item active\",\n                \"aria-current\": \"page\",\n                children: [isEdit ? 'Edit' : 'Add', \" Player\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-white avatar avatar-sm me-2 text-gray-7 flex-shrink-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ti ti-info-square-rounded fs-16\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-dark\",\n                    children: \"Personal Information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body pb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex align-items-center flex-wrap row-gap-3 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex align-items-center justify-content-center avatar avatar-xxl border border-dashed me-2 flex-shrink-0 text-dark frames\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"ti ti-photo-plus fs-16\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 354,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 353,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"profile-upload\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"profile-uploader d-flex align-items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"drag-upload-btn mb-3\",\n                            children: [\"Upload\", /*#__PURE__*/_jsxDEV(\"input\", {\n                              type: \"file\",\n                              className: \"form-control image-sign\",\n                              multiple: true\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 360,\n                              columnNumber: 31\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 358,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(Link, {\n                            to: \"#\",\n                            className: \"btn btn-primary mb-3\",\n                            children: \"Remove\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 366,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 357,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"fs-12\",\n                          children: \"Upload image size 4MB, Format JPG, PNG, SVG\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 370,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row row-cols-xxl-2 row-cols-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"Full Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: `form-control ${errors.fullName ? 'is-invalid' : ''}`,\n                        name: \"fullName\",\n                        value: formData.fullName,\n                        onChange: handleInputChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 25\n                      }, this), errors.fullName && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"invalid-feedback d-block\",\n                        children: errors.fullName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row row-cols-xxl-5 row-cols-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"Date of Birth\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"input-icon position-relative\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"date\",\n                          className: `form-control ${errors.dob ? 'is-invalid' : ''}`,\n                          name: \"dob\",\n                          value: formData.dob ? formatForDateInput(formData.dob) : '',\n                          onChange: e => {\n                            setFormData(prev => ({\n                              ...prev,\n                              dob: e.target.value // Stores in YYYY-MM-DD format\n                            }));\n                            // Clear error if it exists\n                            if (errors.dob) {\n                              setErrors(prev => {\n                                const newErrors = {\n                                  ...prev\n                                };\n                                delete newErrors.dob;\n                                return newErrors;\n                              });\n                            }\n                          },\n                          onBlur: e => {\n                            if (!validateDateOfBirth(e.target.value)) {\n                              setErrors(prev => ({\n                                ...prev,\n                                dob: 'Please enter a valid date of birth'\n                              }));\n                            }\n                          },\n                          max: new Date().toISOString().split('T')[0] // Prevent future dates\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 27\n                        }, this), errors.dob && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"invalid-feedback d-block\",\n                          children: errors.dob\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 439,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"Gender\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: `form-control ${errors.gender ? 'is-invalid' : ''}`,\n                        name: \"gender\",\n                        value: formData.gender,\n                        onChange: handleInputChange,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select Gender\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 457,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Male\",\n                          children: \"Male\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Female\",\n                          children: \"Female\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 459,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Other\",\n                          children: \"Other\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 460,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 449,\n                        columnNumber: 25\n                      }, this), errors.gender && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"invalid-feedback d-block\",\n                        children: errors.gender\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 463,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this), !isEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"Parent\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: `form-control ${errors.parentId ? 'is-invalid' : ''}`,\n                        name: \"parentId\",\n                        value: formData.parentId,\n                        onChange: handleInputChange,\n                        disabled: loadingParents,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select Parent\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 482,\n                          columnNumber: 29\n                        }, this), parents.map(parent => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: parent._id,\n                          children: [parent.fullName, \" (\", parent.email, \")\"]\n                        }, parent._id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 484,\n                          columnNumber: 31\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 473,\n                        columnNumber: 27\n                      }, this), loadingParents && /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: \"Loading parents...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 29\n                      }, this), errors.parentId && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"invalid-feedback d-block\",\n                        children: errors.parentId\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row row-cols-xxl-5 row-cols-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"School Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        name: \"schoolName\",\n                        value: formData.schoolName,\n                        onChange: handleInputChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 507,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"Grade\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 25\n                      }, this), renderGradeSelect(), errors.grade && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"invalid-feedback d-block\",\n                        children: errors.grade\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 521,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xxl col-xl-3 col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"form-label\",\n                        children: \"AAU Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 529,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        name: \"aauNumber\",\n                        value: formData.aauNumber,\n                        onChange: handleInputChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 530,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header bg-light\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-white avatar avatar-sm me-2 text-gray-7 flex-shrink-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ti ti-medical-cross fs-16\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 545,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-dark\",\n                    children: \"Medical History\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body pb-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"Medical Condition\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"healthConcerns\",\n                      value: formData.healthConcerns,\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-end mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-light me-3\",\n                onClick: () => window.history.back(),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: [isEdit ? 'Update' : 'Add', \" Player\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPlayer, \"UPvXF3mEzZD3ry+83MYkvU6n+UQ=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AddPlayer;\nexport default AddPlayer;\nvar _c;\n$RefreshReg$(_c, \"AddPlayer\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","Link","useNavigate","axios","all_routes","validateRequired","validateName","validateDateOfBirth","validateGrade","jsxDEV","_jsxDEV","AddPlayer","isEdit","_s","_playerState$player","_playerState$player2","location","navigate","playerState","state","parents","setParents","loadingParents","setLoadingParents","errors","setErrors","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","playerId","player","_id","fetchParents","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","fetchPlayerData","getCurrentSeason","currentDate","Date","month","getMonth","day","getDate","formData","setFormData","fullName","gender","dob","schoolName","grade","healthConcerns","aauNumber","registrationYear","getFullYear","toString","season","parentId","fetchData","prev","name","section","class","validateForm","newErrors","Object","keys","length","handleInputChange","e","value","target","prevData","handleSubmit","preventDefault","firstErrorKey","element","document","querySelector","scrollIntoView","behavior","block","alert","baseUrl","url","payload","replace","config","put","post","from","guardians","siblings","playerList","errorMessage","isAxiosError","_error$response","_error$response2","_error$response2$data","status","renderGradeSelect","className","onChange","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","i","gradeNum","String","formatForDateInput","dateString","date","isNaN","getTime","year","padStart","to","adminDashboard","onSubmit","type","multiple","onBlur","max","toISOString","split","disabled","parent","email","onClick","window","history","back","_c","$RefreshReg$"],"sources":["/Users/davorins/Desktop/bs/src/feature-module/peoples/players/add-player/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { all_routes } from '../../../router/all_routes';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport {\r\n  PlayerFormData,\r\n  PlayerState,\r\n  ParentData,\r\n} from '../../../../types/types';\r\nimport {\r\n  validateRequired,\r\n  validateName,\r\n  validateDateOfBirth,\r\n  validateGrade,\r\n} from '../../../../utils/validation';\r\n\r\nconst AddPlayer = ({ isEdit }: { isEdit: boolean }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const playerState = location.state as PlayerState | undefined;\r\n  const [parents, setParents] = useState<ParentData[]>([]);\r\n  const [loadingParents, setLoadingParents] = useState(false);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n  const playerId =\r\n    playerState?.playerId ||\r\n    playerState?.player?.playerId ||\r\n    playerState?.player?._id ||\r\n    '';\r\n\r\n  const fetchParents = async () => {\r\n    try {\r\n      setLoadingParents(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${API_BASE_URL}/parents`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setParents(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching parents:', error);\r\n    } finally {\r\n      setLoadingParents(false);\r\n    }\r\n  };\r\n\r\n  const fetchPlayerData = async (playerId: string) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get(`${API_BASE_URL}/player/${playerId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching player data:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const getCurrentSeason = () => {\r\n    const currentDate = new Date();\r\n    const month = currentDate.getMonth() + 1;\r\n    const day = currentDate.getDate();\r\n\r\n    if (\r\n      (month === 12 && day >= 21) ||\r\n      month === 1 ||\r\n      month === 2 ||\r\n      (month === 3 && day <= 20)\r\n    ) {\r\n      return 'Winter';\r\n    } else if (\r\n      (month === 3 && day >= 21) ||\r\n      month === 4 ||\r\n      month === 5 ||\r\n      (month === 6 && day <= 20)\r\n    ) {\r\n      return 'Spring';\r\n    } else if (\r\n      (month === 6 && day >= 21) ||\r\n      month === 7 ||\r\n      month === 8 ||\r\n      (month === 9 && day <= 22)\r\n    ) {\r\n      return 'Summer';\r\n    } else {\r\n      return 'Fall';\r\n    }\r\n  };\r\n\r\n  const [formData, setFormData] = useState<PlayerFormData>({\r\n    playerId: playerId || '',\r\n    fullName: '',\r\n    gender: '',\r\n    dob: '',\r\n    schoolName: '',\r\n    grade: '',\r\n    healthConcerns: '',\r\n    aauNumber: '',\r\n    registrationYear: new Date().getFullYear().toString(),\r\n    season: getCurrentSeason(),\r\n    parentId: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!isEdit) {\r\n      fetchParents();\r\n    }\r\n  }, [isEdit]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (isEdit) {\r\n        if (playerState?.player) {\r\n          const player = playerState.player;\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            playerId: player.playerId || player._id || '',\r\n            fullName: player.name || player.fullName || '',\r\n            gender: player.gender || '',\r\n            dob: player.dob || '',\r\n            schoolName: player.section || player.schoolName || '',\r\n            grade: player.class || player.grade || '',\r\n            healthConcerns: player.healthConcerns || '',\r\n            aauNumber: player.aauNumber || '',\r\n            parentId: player.parentId || '',\r\n          }));\r\n        } else if (playerId) {\r\n          const player = await fetchPlayerData(playerId);\r\n          if (player) {\r\n            setFormData((prev) => ({\r\n              ...prev,\r\n              playerId: player._id || player.playerId || '',\r\n              fullName: player.fullName || player.name || '',\r\n              gender: player.gender || '',\r\n              dob: player.dob || '',\r\n              schoolName: player.schoolName || player.section || '',\r\n              grade: player.grade || player.class || '',\r\n              healthConcerns: player.healthConcerns || '',\r\n              aauNumber: player.aauNumber || '',\r\n              parentId: player.parentId || '',\r\n            }));\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [isEdit, playerId, playerState]);\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!validateName(formData.fullName)) {\r\n      newErrors.fullName = 'Please enter a valid name (min 2 characters)';\r\n    }\r\n\r\n    if (!validateDateOfBirth(formData.dob)) {\r\n      newErrors.dob = 'Please enter a valid date of birth';\r\n    }\r\n\r\n    if (!validateRequired(formData.gender)) {\r\n      newErrors.gender = 'Gender is required';\r\n    }\r\n\r\n    if (!isEdit && !formData.parentId) {\r\n      newErrors.parentId = 'Parent is required';\r\n    }\r\n\r\n    if (!validateGrade(formData.grade)) {\r\n      newErrors.grade = 'Please select a valid grade (1-12)';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleInputChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n\r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[name];\r\n        return newErrors;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      // Scroll to the first error\r\n      const firstErrorKey = Object.keys(errors)[0];\r\n      if (firstErrorKey) {\r\n        const element = document.querySelector(`[name=\"${firstErrorKey}\"]`);\r\n        element?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (isEdit && !formData.playerId) {\r\n      alert('Player ID is missing. Cannot update player.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        alert('Authentication token missing. Please login again.');\r\n        return;\r\n      }\r\n\r\n      const baseUrl = `${API_BASE_URL}/players`;\r\n      const url = isEdit ? `${baseUrl}/${formData.playerId}` : baseUrl;\r\n\r\n      const payload = {\r\n        fullName: formData.fullName,\r\n        gender: formData.gender,\r\n        dob: formData.dob,\r\n        schoolName: formData.schoolName,\r\n        grade: formData.grade.replace(/\\D/g, ''),\r\n        healthConcerns: formData.healthConcerns,\r\n        aauNumber: formData.aauNumber,\r\n        registrationYear: formData.registrationYear,\r\n        season: formData.season,\r\n        ...(!isEdit && { parentId: formData.parentId }),\r\n      };\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n\r\n      const response = await (isEdit\r\n        ? axios.put(url, payload, config)\r\n        : axios.post(url, payload, config));\r\n\r\n      // For edits, navigate back to player details\r\n      if (isEdit && playerState?.from) {\r\n        navigate(playerState.from, {\r\n          state: {\r\n            player: response.data,\r\n            guardians: playerState.guardians,\r\n            siblings: playerState.siblings || [],\r\n            from: 'edit',\r\n          },\r\n          replace: true,\r\n        });\r\n      } else {\r\n        navigate(all_routes.playerList);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error ${isEdit ? 'updating' : 'adding'} player:`, error);\r\n\r\n      let errorMessage = `Failed to ${isEdit ? 'update' : 'add'} player.`;\r\n      if (axios.isAxiosError(error)) {\r\n        errorMessage += ` Server responded with: ${error.response?.status}`;\r\n        if (error.response?.data?.error) {\r\n          errorMessage += ` - ${error.response.data.error}`;\r\n        }\r\n      }\r\n\r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const renderGradeSelect = () => (\r\n    <select\r\n      className={`form-control ${errors.grade ? 'is-invalid' : ''}`}\r\n      name='grade'\r\n      value={formData.grade.replace(/\\D/g, '')}\r\n      onChange={handleInputChange}\r\n    >\r\n      <option value=''>Select Grade</option>\r\n      {[...Array(12)].map((_, i) => {\r\n        const gradeNum = String(i + 1);\r\n        return (\r\n          <option key={gradeNum} value={gradeNum}>\r\n            {gradeNum}\r\n            {i === 0 ? 'st' : i === 1 ? 'nd' : i === 2 ? 'rd' : 'th'} Grade\r\n          </option>\r\n        );\r\n      })}\r\n    </select>\r\n  );\r\n\r\n  const formatForDateInput = (dateString: string | undefined): string => {\r\n    if (!dateString) return '';\r\n\r\n    try {\r\n      const date = new Date(dateString);\r\n      if (isNaN(date.getTime())) return '';\r\n\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n\r\n      return `${year}-${month}-${day}`;\r\n    } catch (error) {\r\n      console.error('Error formatting date:', error);\r\n      return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='page-wrapper'>\r\n      <div className='content content-two'>\r\n        <div className='d-md-flex d-block align-items-center justify-content-between mb-3'>\r\n          <div className='my-auto mb-2'>\r\n            <h3 className='mb-1'>{isEdit ? 'Edit' : 'Add'} Player</h3>\r\n            <nav>\r\n              <ol className='breadcrumb mb-0'>\r\n                <li className='breadcrumb-item'>\r\n                  <Link to={all_routes.adminDashboard}>Dashboard</Link>\r\n                </li>\r\n                <li className='breadcrumb-item'>\r\n                  <Link to={all_routes.playerList}>Players</Link>\r\n                </li>\r\n                <li className='breadcrumb-item active' aria-current='page'>\r\n                  {isEdit ? 'Edit' : 'Add'} Player\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-md-12'>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className='card'>\r\n                <div className='card-header bg-light'>\r\n                  <div className='d-flex align-items-center'>\r\n                    <span className='bg-white avatar avatar-sm me-2 text-gray-7 flex-shrink-0'>\r\n                      <i className='ti ti-info-square-rounded fs-16' />\r\n                    </span>\r\n                    <h4 className='text-dark'>Personal Information</h4>\r\n                  </div>\r\n                </div>\r\n                <div className='card-body pb-1'>\r\n                  <div className='row'>\r\n                    <div className='col-md-12'>\r\n                      <div className='d-flex align-items-center flex-wrap row-gap-3 mb-3'>\r\n                        <div className='d-flex align-items-center justify-content-center avatar avatar-xxl border border-dashed me-2 flex-shrink-0 text-dark frames'>\r\n                          <i className='ti ti-photo-plus fs-16' />\r\n                        </div>\r\n                        <div className='profile-upload'>\r\n                          <div className='profile-uploader d-flex align-items-center'>\r\n                            <div className='drag-upload-btn mb-3'>\r\n                              Upload\r\n                              <input\r\n                                type='file'\r\n                                className='form-control image-sign'\r\n                                multiple\r\n                              />\r\n                            </div>\r\n                            <Link to='#' className='btn btn-primary mb-3'>\r\n                              Remove\r\n                            </Link>\r\n                          </div>\r\n                          <p className='fs-12'>\r\n                            Upload image size 4MB, Format JPG, PNG, SVG\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className='row row-cols-xxl-2 row-cols-md-6'>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>Full Name</label>\r\n                        <input\r\n                          type='text'\r\n                          className={`form-control ${\r\n                            errors.fullName ? 'is-invalid' : ''\r\n                          }`}\r\n                          name='fullName'\r\n                          value={formData.fullName}\r\n                          onChange={handleInputChange}\r\n                        />\r\n                        {errors.fullName && (\r\n                          <div className='invalid-feedback d-block'>\r\n                            {errors.fullName}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className='row row-cols-xxl-5 row-cols-md-6'>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>Date of Birth</label>\r\n                        <div className='input-icon position-relative'>\r\n                          <input\r\n                            type='date'\r\n                            className={`form-control ${\r\n                              errors.dob ? 'is-invalid' : ''\r\n                            }`}\r\n                            name='dob'\r\n                            value={\r\n                              formData.dob\r\n                                ? formatForDateInput(formData.dob)\r\n                                : ''\r\n                            }\r\n                            onChange={(e) => {\r\n                              setFormData((prev) => ({\r\n                                ...prev,\r\n                                dob: e.target.value, // Stores in YYYY-MM-DD format\r\n                              }));\r\n                              // Clear error if it exists\r\n                              if (errors.dob) {\r\n                                setErrors((prev) => {\r\n                                  const newErrors = { ...prev };\r\n                                  delete newErrors.dob;\r\n                                  return newErrors;\r\n                                });\r\n                              }\r\n                            }}\r\n                            onBlur={(e) => {\r\n                              if (!validateDateOfBirth(e.target.value)) {\r\n                                setErrors((prev) => ({\r\n                                  ...prev,\r\n                                  dob: 'Please enter a valid date of birth',\r\n                                }));\r\n                              }\r\n                            }}\r\n                            max={new Date().toISOString().split('T')[0]} // Prevent future dates\r\n                          />\r\n                          {errors.dob && (\r\n                            <div className='invalid-feedback d-block'>\r\n                              {errors.dob}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>Gender</label>\r\n                        <select\r\n                          className={`form-control ${\r\n                            errors.gender ? 'is-invalid' : ''\r\n                          }`}\r\n                          name='gender'\r\n                          value={formData.gender}\r\n                          onChange={handleInputChange}\r\n                        >\r\n                          <option value=''>Select Gender</option>\r\n                          <option value='Male'>Male</option>\r\n                          <option value='Female'>Female</option>\r\n                          <option value='Other'>Other</option>\r\n                        </select>\r\n                        {errors.gender && (\r\n                          <div className='invalid-feedback d-block'>\r\n                            {errors.gender}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    {!isEdit && (\r\n                      <div className='col-xxl col-xl-3 col-md-6'>\r\n                        <div className='mb-3'>\r\n                          <label className='form-label'>Parent</label>\r\n                          <select\r\n                            className={`form-control ${\r\n                              errors.parentId ? 'is-invalid' : ''\r\n                            }`}\r\n                            name='parentId'\r\n                            value={formData.parentId}\r\n                            onChange={handleInputChange}\r\n                            disabled={loadingParents}\r\n                          >\r\n                            <option value=''>Select Parent</option>\r\n                            {parents.map((parent) => (\r\n                              <option key={parent._id} value={parent._id}>\r\n                                {parent.fullName} ({parent.email})\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                          {loadingParents && (\r\n                            <small className='text-muted'>\r\n                              Loading parents...\r\n                            </small>\r\n                          )}\r\n                          {errors.parentId && (\r\n                            <div className='invalid-feedback d-block'>\r\n                              {errors.parentId}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className='row row-cols-xxl-5 row-cols-md-6'>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>School Name</label>\r\n                        <input\r\n                          type='text'\r\n                          className='form-control'\r\n                          name='schoolName'\r\n                          value={formData.schoolName}\r\n                          onChange={handleInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>Grade</label>\r\n                        {renderGradeSelect()}\r\n                        {errors.grade && (\r\n                          <div className='invalid-feedback d-block'>\r\n                            {errors.grade}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className='col-xxl col-xl-3 col-md-6'>\r\n                      <div className='mb-3'>\r\n                        <label className='form-label'>AAU Number</label>\r\n                        <input\r\n                          type='text'\r\n                          className='form-control'\r\n                          name='aauNumber'\r\n                          value={formData.aauNumber}\r\n                          onChange={handleInputChange}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='card'>\r\n                <div className='card-header bg-light'>\r\n                  <div className='d-flex align-items-center'>\r\n                    <span className='bg-white avatar avatar-sm me-2 text-gray-7 flex-shrink-0'>\r\n                      <i className='ti ti-medical-cross fs-16' />\r\n                    </span>\r\n                    <h4 className='text-dark'>Medical History</h4>\r\n                  </div>\r\n                </div>\r\n                <div className='card-body pb-1'>\r\n                  <div className='row'>\r\n                    <div className='mb-3'>\r\n                      <label className='form-label'>Medical Condition</label>\r\n                      <input\r\n                        type='text'\r\n                        className='form-control'\r\n                        name='healthConcerns'\r\n                        value={formData.healthConcerns}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='text-end mt-4'>\r\n                <button\r\n                  type='button'\r\n                  className='btn btn-light me-3'\r\n                  onClick={() => window.history.back()}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button type='submit' className='btn btn-primary'>\r\n                  {isEdit ? 'Update' : 'Add'} Player\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPlayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}