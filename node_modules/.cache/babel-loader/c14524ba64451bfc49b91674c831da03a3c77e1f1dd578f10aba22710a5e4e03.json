{"ast":null,"code":"var _s = $RefreshSig$();\n// usePlayerActions.ts\nimport { useNavigate } from 'react-router-dom';\nimport { all_routes } from '../router/all_routes';\nimport { useAuth } from '../../context/AuthContext';\nexport const usePlayerActions = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    fetchGuardians\n  } = useAuth();\n  const routes = all_routes;\n  const handlePlayerClick = async player => {\n    try {\n      // If player is just an ID, we can't fetch guardians - need to handle this case\n      if (typeof player === 'string') {\n        navigate(`${routes.playerDetail}/${player}`);\n        return;\n      }\n      const guardians = await fetchGuardians(player.id);\n      let recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed') || '[]');\n      recentlyViewed = [player.id, ...recentlyViewed.filter(id => id !== player.id)].slice(0, 5);\n      localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));\n      navigate(`${routes.playerDetail}/${player.id}`, {\n        state: {\n          player: {\n            ...player,\n            playerId: player.id,\n            _id: player.id\n          },\n          siblings: player.siblings,\n          guardians\n        }\n      });\n    } catch (err) {\n      console.error('Error fetching guardians:', err);\n    }\n  };\n  return {\n    handlePlayerClick\n  };\n};\n_s(usePlayerActions, \"qIAkzPnjJvJhU+1tH25RdRVwHPY=\", false, function () {\n  return [useNavigate, useAuth];\n});","map":{"version":3,"names":["useNavigate","all_routes","useAuth","usePlayerActions","_s","navigate","fetchGuardians","routes","handlePlayerClick","player","playerDetail","guardians","id","recentlyViewed","JSON","parse","localStorage","getItem","filter","slice","setItem","stringify","state","playerId","_id","siblings","err","console","error"],"sources":["/Users/davorins/Desktop/bs/src/feature-module/hooks/usePlayerActions.ts"],"sourcesContent":["// usePlayerActions.ts\nimport { useNavigate } from 'react-router-dom';\nimport { all_routes } from '../router/all_routes';\nimport { useAuth } from '../../context/AuthContext';\n\nexport const usePlayerActions = () => {\n  const navigate = useNavigate();\n  const { fetchGuardians } = useAuth();\n  const routes = all_routes;\n\n  const handlePlayerClick = async (player: any) => {\n    try {\n      // If player is just an ID, we can't fetch guardians - need to handle this case\n      if (typeof player === 'string') {\n        navigate(`${routes.playerDetail}/${player}`);\n        return;\n      }\n\n      const guardians = await fetchGuardians(player.id);\n      let recentlyViewed = JSON.parse(\n        localStorage.getItem('recentlyViewed') || '[]'\n      );\n      recentlyViewed = [\n        player.id,\n        ...recentlyViewed.filter((id: string) => id !== player.id),\n      ].slice(0, 5);\n\n      localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));\n\n      navigate(`${routes.playerDetail}/${player.id}`, {\n        state: {\n          player: {\n            ...player,\n            playerId: player.id,\n            _id: player.id,\n          },\n          siblings: player.siblings,\n          guardians,\n        },\n      });\n    } catch (err) {\n      console.error('Error fetching guardians:', err);\n    }\n  };\n\n  return { handlePlayerClick };\n};\n"],"mappings":";AAAA;AACA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,UAAU,QAAQ,sBAAsB;AACjD,SAASC,OAAO,QAAQ,2BAA2B;AAEnD,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEM;EAAe,CAAC,GAAGJ,OAAO,CAAC,CAAC;EACpC,MAAMK,MAAM,GAAGN,UAAU;EAEzB,MAAMO,iBAAiB,GAAG,MAAOC,MAAW,IAAK;IAC/C,IAAI;MACF;MACA,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;QAC9BJ,QAAQ,CAAC,GAAGE,MAAM,CAACG,YAAY,IAAID,MAAM,EAAE,CAAC;QAC5C;MACF;MAEA,MAAME,SAAS,GAAG,MAAML,cAAc,CAACG,MAAM,CAACG,EAAE,CAAC;MACjD,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAK,CAC7BC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,IAAI,IAC5C,CAAC;MACDJ,cAAc,GAAG,CACfJ,MAAM,CAACG,EAAE,EACT,GAAGC,cAAc,CAACK,MAAM,CAAEN,EAAU,IAAKA,EAAE,KAAKH,MAAM,CAACG,EAAE,CAAC,CAC3D,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;MAEbH,YAAY,CAACI,OAAO,CAAC,gBAAgB,EAAEN,IAAI,CAACO,SAAS,CAACR,cAAc,CAAC,CAAC;MAEtER,QAAQ,CAAC,GAAGE,MAAM,CAACG,YAAY,IAAID,MAAM,CAACG,EAAE,EAAE,EAAE;QAC9CU,KAAK,EAAE;UACLb,MAAM,EAAE;YACN,GAAGA,MAAM;YACTc,QAAQ,EAAEd,MAAM,CAACG,EAAE;YACnBY,GAAG,EAAEf,MAAM,CAACG;UACd,CAAC;UACDa,QAAQ,EAAEhB,MAAM,CAACgB,QAAQ;UACzBd;QACF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOe,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IACjD;EACF,CAAC;EAED,OAAO;IAAElB;EAAkB,CAAC;AAC9B,CAAC;AAACJ,EAAA,CAzCWD,gBAAgB;EAAA,QACVH,WAAW,EACDE,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}